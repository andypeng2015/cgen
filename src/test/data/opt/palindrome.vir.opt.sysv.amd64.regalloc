module palindrome

export function $palindrome { ; returns: rax
@2:
  mov ecx, edi ; @56
  xor eax, eax ; @57
  mov edx, ecx ; @58
@3:
  test edx, edx ; @51
  jne @6 ; @52
@7:
  xor edx, edx ; @28
  cmp ecx, eax ; @49
  sete dl ; @50
  mov al, dl ; @47
  ret ; @48
@6:
  imul rsi, rdx, 0x1999999a ; @33
  shr rsi, 0x20_b ; @46
  mov edi, esi ; @34
  shr edi, 0x1f_b ; @45
  add esi, edi ; @35
  imul edi, esi, 0xa ; @36
  sub edx, edi ; @44
  mov edi, eax ; @31
  shl edi, 0x1_b ; @42
  lea eax, qword ptr [rdi + rax*8] ; @32
  add eax, edx ; @38
  mov edx, esi ; @40
  jmp @3 ; @41
}
