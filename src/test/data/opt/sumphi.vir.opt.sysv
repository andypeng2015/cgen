module sumphi

function $sum(l %s/rdi) {
  %p = slot 8, align 8
@2:
  st.l %s, %p ; @27
  %a.1 = ld.w %p ; @4
  %3.1 = add.l %p, 0x4_l ; @22
  %b.1 = ld.w %3.1 ; @6
  %4.1 = add.w %a.1, %b.1 ; @23
  ret rax/%4.1
}

export function $sumphi(l %a/rdi, l %b/rsi, w %x/rdx) {
  %ra = slot 8, align 8
  %12 = slot 8, align 8
  %14 = slot 8, align 8
@8:
  st.l %a, %ra ; @31
  %5.1 = slt.w %x, 0x0_w ; @24
  br %5.1, @9, @10
@9:
  st.l %a, %14 ; @37
  jmp @14(%14)
@10:
  st.l %b, %12 ; @35
  jmp @14(%12)
@14(%u.1):
  st.w 0x5_w, %ra ; @17
  %16.1 = ld.l %u.1 ; @38
  %s.1/w/rax = call $sum(%16.1/rdi) ; @18
  ret rax/%s.1
}
