module palindrome

export function b $palindrome(w %n) {
@2:
  jmp @3(0x0_w, %n)
@3(%rev.2, %n.1):
  %12 = ne.w %n.1, 0x0_w ; @27
  br %12, @6, @7
@6:
  %18 = mulh.w %n.1, 0x1999999a_w ; @33
  %19 = lsr.w %18, 0x1f_w ; @34
  %20 = add.w %18, %19 ; @35
  %21 = mul.w %20, 0xa_w ; @36
  %22 = sub.w %n.1, %21 ; @37
  %15 = lsl.w %rev.2, 0x3_w ; @30
  %16 = lsl.w %rev.2, 0x1_w ; @31
  %17 = add.w %15, %16 ; @32
  %23 = add.w %17, %22 ; @38
  jmp @3(%23, %20)
@7:
  %13 = eq.w %n, %rev.2 ; @28
  %14 = flag.b %13 ; @29
  ret %14
}
