module foo

function w $foo(l %a, l %b, w %x) {
@7:
  %y.1 = ld.w %a ; @12
  st.w %x, %a ; @11
  %0 = add.w %y.1, 0x1_w ; @13
  st.w %0, %a ; @9
  %1 = eq.w %y.1, 0x0_w ; @14
  br %1, @3, @1
@3:
  %2 = zext.l %0 ; @15
  %w.1 = ld.w %2 ; @4
  jmp @0(%w.1)
@1:
  %w.2 = ld.w %b ; @2
  jmp @0(%w.2)
@0(%w.3):
  ret %w.3
}
