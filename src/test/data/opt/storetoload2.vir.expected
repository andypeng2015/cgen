module foo

function w $foo(l %a, l %b, w %x) {
@0:
  %y.1 = ld.w %a ; @3
  st.w %x, %a ; @4
  %0 = add.w %y.1, 0x1_w ; @13
  st.w %0, %a ; @6
  %1 = eq.w %y.1, 0x0_w ; @14
  br %1, @1, @2
@1:
  %2 = zext.l %0 ; @15
  %w.3 = ld.w %2 ; @11
  jmp @8(%w.3)
@2:
  %w.2 = ld.w %b ; @12
  jmp @8(%w.2)
@8(%w.1):
  ret %w.1
}
