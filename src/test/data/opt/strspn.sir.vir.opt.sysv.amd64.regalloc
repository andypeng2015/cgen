module strspn

export function $cgen_strspn { ; returns: rax
@2:
  sub rsp, 0x28_l ; @173
  mov rdx, rsi ; @171
  mov qword ptr [rsp], 0x0_l ; @172
  mov qword ptr [rsp + 0x8], 0x0_l ; @8
  mov qword ptr [rsp + 0x10], 0x0_l ; @10
  mov qword ptr [rsp + 0x18], 0x0_l ; @12
  mov sil, byte ptr [rdx] ; @13
  test sil, sil ; @166
  jne @4 ; @167
@95:
  xor eax, eax ; @164
  jmp @64 ; @165
@4:
  mov al, byte ptr [rdx + 0x1] ; @18
  test al, al ; @159
  jne @16 ; @160
@96:
  mov rax, rdi ; @157
  jmp @15 ; @158
@16:
  mov al, byte ptr [rdx] ; @31
  test al, al ; @150
  jne @30 ; @151
@98:
  mov rax, rdi ; @148
  jmp @29 ; @149
@30:
  mov al, byte ptr [rdx] ; @34
  movzx rcx, al ; @86
  mov rax, rcx ; @87
  shr rax, 0x6_b ; @147
  mov r8, qword ptr [rsp + rax*8] ; @39
  and rcx, 0x3f_l ; @145
  mov esi, 0x1_w ; @91
  shl rsi, cl ; @144
  or rsi, r8 ; @142
  mov qword ptr [rsp + rax*8], rsi ; @43
  test rsi, rsi ; @137
  jne @33 ; @138
@99:
  mov rax, rdi ; @135
  jmp @29 ; @136
@33:
  inc rdx ; @94
  jmp @16 ; @134
@29:
  mov cl, byte ptr [rax] ; @49
  test cl, cl ; @128
  je @47 ; @129
@48:
  movzx rcx, cl ; @77
  mov rdx, rcx ; @78
  shr rdx, 0x6_b ; @127
  mov rdx, qword ptr [rsp + rdx*8] ; @57
  and rcx, 0x3f_l ; @125
  mov esi, 0x1_w ; @82
  shl rsi, cl ; @124
  test rsi, rdx ; @117
  je @47 ; @118
@51:
  inc rax ; @85
  jmp @29 ; @116
@47:
  sub rax, rdi ; @114
  jmp @64 ; @113
@15:
  mov cl, byte ptr [rax] ; @23
  cmp cl, sil ; @107
  je @21 ; @108
@22:
  sub rax, rdi ; @106
@64:
  add rsp, 0x28_l ; @174
  ret ; @103
@21:
  inc rax ; @72
  jmp @15 ; @101
}
