module evenodd

function $abs { ; returns: rax
@2:
  test edi, edi ; @44
  js @3 ; @45
@36:
  mov eax, edi ; @42
  jmp @21 ; @43
@3:
  neg edi ; @41
  mov eax, edi ; @39
@21:
  ret ; @38
}

export function $even { ; returns: rax
@7:
  push rbp ; @84
  mov rbp, rsp ; @85
  call $abs ; rdi ; @65
  test eax, eax ; @59
  jne @9 ; @60
@50:
  mov al, 0x1_b ; @57
  jmp @22 ; @58
@9:
  lea edi, qword ptr [rax - 0x1] ; @33
  call $odd ; rdi ; @55
@22:
  leave ; @86
  ret ; @52
}

export function $odd { ; returns: rax
@14:
  push rbp ; @87
  mov rbp, rsp ; @88
  call $abs ; rdi ; @82
  test eax, eax ; @76
  jne @16 ; @77
@67:
  xor al, al ; @74
  jmp @23 ; @75
@16:
  lea edi, qword ptr [rax - 0x1] ; @35
  call $even ; rdi ; @72
@23:
  leave ; @89
  ret ; @69
}
